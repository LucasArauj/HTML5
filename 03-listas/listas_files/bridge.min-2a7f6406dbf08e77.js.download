function clamp(a,c,b){return Math.min(Math.max(c,a),b)}function SSToHHMMSS(a){if(!a||"0"==a)return"";var c=Math.floor(a/3600),b=Math.floor((a-3600*c)/60);"0"!=c&&10>b&&(b="0"+b);a=a-60*b-3600*c;10>a&&(a="0"+a);var d="";"0"!=c&&(d+=c+":");return d+(b+":"+a)}
function stripUTM(a){a.indexOf("utm_")>a.indexOf("?")&&(a=a.replace(/([\?&]utm_(reader|source|medium|campaign|content|term)=[^&#]+)/ig,""));if(a.indexOf("mc_eid")>a.indexOf("?")||a.indexOf("mc_cid")>a.indexOf("?"))a=a.replace(/([\?&](mc_cid|mc_eid)=[^&#]+)/ig,"");-1!=a.indexOf("&")&&-1==a.indexOf("?")&&(a=a.replace("&","?"));return a}function parseQuery(a){var c,b=/([^&;=]+)=?([^&;]*)/g,d={};if(!a||0==a.length)return{};for(;c=b.exec(a);)d[c[1]]=decodeURIComponent(c[2]);return d}
function createQuery(a){var c="?",b;for(b in a)a.hasOwnProperty(b)&&(c+=encodeURIComponent(b),""!==a[b]&&(c+="="+encodeURIComponent(a[b])),c+="&");return c.slice(0,-1)}function addUTM(a,c,b){c=c||window._x_utm_medium||"widget";b=b||window._x_utm_campaign||"popular";var d=a.split("#");a=d[1];d=d[0].split("?");var e=d[0];d=parseQuery(d[1]);d.utm_source="reembed";d.utm_medium=c;d.utm_campaign=b;e+=createQuery(d);a&&(e+="#"+a);return e}
function once(a,c){var b;return function(){a&&(b=a.apply(c||this,arguments),a=null);return b}}function waitAll(a,c){for(var b=a.length,d=0,e=function(){d++;d>=b&&c()},f=0;f<b;f++)a[f](once(e))}function unique(a){var c=[];if(!a)return c;for(var b=0,d=a.length;b<d;b++)-1===c.indexOf(a[b])&&c.push(a[b]);return c}function intersection(a,c){var b=[];if(!(a instanceof Array&&c instanceof Array))return[];for(var d=0,e=a.length;d<e;d++)-1<c.indexOf(a[d])&&b.push(a[d]);return b}
function _xhr(a,c,b){var d=new XMLHttpRequest;if("withCredentials"in d)d.open(a,c,b);else if("undefined"!=typeof XDomainRequest)d=new XDomainRequest,d.open(a,c);else{callback(Error("CORS not supported"),null);return}return d}
function ajaxPost(a,c,b,d){var e=_xhr("POST",a,b);e.onload=function(){200<=e.status&&300>e.status?d(null,e.responseText):404==e.status?d(null,null):d(Error("Respond with"+e.status),null)};e.onerror=function(){d(Error("Error while making the request"),null)};window.setTimeout(function(){e.send(c)},0)}
function ajaxGet(a,c){var b=_xhr("GET",a,!0);b.withCredentials=!0;b.onload=function(){200==b.status?c(null,b.responseText):404==b.status?c(null,null):c(Error("Respond with"+b.status),null)};b.onerror=function(){c(Error("Error while making the request"),null)};window.setTimeout(function(){b.send()},0)}function addListener(a,c,b){a.addEventListener?a.addEventListener(c,b):a.attachEvent&&a.attachEvent("on"+c,b)}
function rmListener(a,c,b){a.removeEventListener?a.removeEventListener(c,b,!1):a.detachEvent&&a.detachEvent("on"+c,b)}function htmlEscape(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;")}
function lockWrapper(a){function c(){var e=Array.prototype.slice.call(arguments);"function"!==typeof e[e.length-1]&&a.apply(void 0,e);if(b)d.push(e);else{b=!0;var f=e.pop();e.push(function(){f.apply(void 0,Array.prototype.slice.call(arguments));b=!1;0<d.length&&c.apply(void 0,d.shift())});a.apply(void 0,e)}}var b=!1,d=[];return"function"!==typeof a?a:c};function lsSetPlay(a,c){lscache.set("play:"+a+"/"+c,!0,2880)}function main(){var a=parseQuery(window.location.hash.substring(1));lsSetPlay(a.video_provider,a.video_code)}main();
